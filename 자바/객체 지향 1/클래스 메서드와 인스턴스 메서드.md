## 클래스 메서드와 인스턴스 메서드

메서드 앞에 **static 이 붙어 있으면 클래스메서드**이고 **붙어 있지 않으면 인스턴스 메서드이다.**

<br/>**객체를 생성하지 않고도 ‘클래스이름.메서드이름’ 와 같은 식으로 호출이 가능하다.**

반면, **인스턴스 메서드는 반드시 객체를 생성해야만 호출할 수 있다.**

<br/>

### 그렇다면 클래스를 정의할 때, 어느 경우에 static 을 사용해서 클래스 메서드로 정의해야 하는 걸까?

클래스는 **‘데이터(변수) 와 데이터의 관련된 메서드의 집합’ 이므로,** <br/>같은 클래스 내에 있는 메서드와 멤버변수는 **아주 밀접한 관계**가 있다.

<br/>

**인스턴스 메서드는 인스턴스 변수와 관련된 작업을 하는 경우이다, <br/> 다시 말해, 메서드의 작업을 수행하는데 인스턴스 변수를 필요로 하는 메서드이다.**

<br/>

그런데 인스턴스 변수는 **인스턴스(객체)를 생성해야만** 만들어지므로 <br/>**인스턴스 메서드 역시 인스턴스를 생성**해야만 호출할 수 있는 것이다.

<br/>

반면에 **메서드 중에서 인스턴스와 관계없는 (인스턴스 변수나 인스턴스 메서드를 사용하지 않는) <br/>메서드를 클래스 메서드(static) 정의 한다.**

<br/>

### 1.(중요) 클래스를 설계할 때, 멤버변수 중 모든 인스턴스에 공통으로 사용하는 것에 static 을 붙인다. 

생성된 각 인스턴스는 서로 독립적이기 때문에 **각 인스턴스의 변수는 서로 다른 값을 유지한다.**

그러나 모든 인스턴스에서 같은 **값이 유지되어야 하는 변수는 static을 붙여서 클래스변수로 정의**해야 한다.

<br/>

### 2. 클래스 변수는 인스턴스를 생성하지 않아도 사용할 수 있다.

<br/>

### 3. 클래스 메서드는 인스턴스 변수를 사용할 수 없다.

인스턴스변수는 인스턴스가 반드시 존재해야만 사용할 수 있는데, 클래스메서드는 인스턴스 생성 없이 <br/>호출가능하므로 클래스 메서드가 호출되었을때, 인스턴스가 존재하지 않을 수도 있다. <br/>그래서 **클래스 메서드에서 인스턴스변수의 사용을 금지한다.**

**<br/>반면에 인스턴스변수나 인스턴스메서드에서는 static 이 붙은 멤버들을 사용하는 것이 언제나 가능하다. <br/>인스턴스 변수가 존재한다는 것은 static 변수가 이미 메모리에 존재한다는 것을 의미하기 때문이다.**

<br/>

### 4. 메서드 내에서 인스턴스 변수를 사용하지 않는다면, static을 붙이는 것을 고려한다.

**메서드의 작업내용 중에서 인스턴스변수를 필요로 한다면, static을 붙일 수 없다.**

반대로 인스턴스변수를 필요로 하지 않는다면 static을 붙이자. **메서드 호출시간이 짧아지므로 성능이 향상된다.** <br/>static을 안 붙인 메서드(인스턴스메서드)는 실행 시 호출되어야할 메서드를 찾는 과정이 추가적으로 필요하여 시간이 더 걸린다.

<br/>

- **클래스의 멤버변수 중 모든 인스턴스에 공통된 값을 유지해야하는 것이 있는지 살펴 보고 있으면, static 을 붙여 준다.**
- **작성한 메서드 중에서 인스턴스 변수나 인스턴스 메서드를 사용하지 않는 메서드에 static 을 붙일 것을 고려한다.**

<br/>

### 밑에 코드를 설명하면 이렇다.

인스턴스메서드인 4개는 인스턴스변수의 a와 b만으로도 충분히 작업이 가능하기 때문에, <br/>매개변수를 필요로 하지 않으므로 괄호( ) 매개변수를 선언하지 않았다.

<br/>반면에 add(long a, long b) 등은 인스턴스변수 없이 매개변수만으로 작업을 수행하기 때문에 <br/>static 을 붙여서 클래스 메서드로 선언하였다.

<br/>그래서 MyMath2의 main 메서드에서 보면, 클래스 메서드는 객체생성없이 바로 호출이 가능했고, <br/>인스턴스메서드는 MyMath2클래스의 인스턴스를 생성한 후에야 호출이 가능했다.


```java
class MyMath2 {
    long a, b;

    // 인스턴스변수 a, b만을 이용해서 작업하므로 매개변수가 필요없다.
    long add() {
        return a + b; // a, b는 인스턴스 변수
    }

    long subtract() {
        return a - b; // a, b는 인스턴스 변수
    }

    long multiply() {
        return a * b; // a, b는 인스턴스 변수
    }

    double divide() {
        return a / b; // a, b는 인스턴스 변수
    }

    // 인스턴스변수의 관계없이 매개변수만으로 작업이 가능하다.
    static long add(long a, long b) {
        return a + b;
    }

    static long subtract(long a, long b) {
        return a - b;
    }

    static long multiply(long a, long b) {
        return a * b;
    }

    static double divide(double a, double b) {
        return a / b;
    }
}

class aaa {

    public static void main(String[] args) {
        // 클래스메서드 호출. 인스턴스 생성 없이 호출 가능
        System.out.println(MyMath2.add(200L, 100L));
        System.out.println(MyMath2.subtract(200L, 100L));
        System.out.println(MyMath2.multiply(200L, 100L));
        System.out.println(MyMath2.divide(200.0, 100.0));

        MyMath2 mm = new MyMath2(); // 인스턴스를 생성
        mm.a = 200L;
        mm.b = 100L;

        // 인스턴스메서드는 객체생성 후에만 호출이 가능함.
        System.out.println(mm.add());
        System.out.println(mm.subtract());
        System.out.println(mm.multiply());
        System.out.println(mm.divide());

    }

}

출력값.
300
100
20000
2.0
300
100
20000
2.0

```


<br/><br/>

>**Reference**
><br/>남궁 성 지음, 『자바의 정석』, 도우출판.
