## CAS 알고리즘 설명



CAS 알고리즘이란 현재 스레드가 존재하는 `CPU`의 `CacheMemory`와 `MainMemory`에 저장된 값을 

비교하여, `일치하는 경우, 새로운 값으로 교체`하고 → `true`, `일치하지 않을 경우, 

기존 교체가 실패`되고 → `false`를 반환하게 하는 알고리즘입니다.

<br/>

## 여담이라고 하지만,

만약 `false`를 반환 했을때는 개발자의 요구사항에 따라 달라진다고 합니다.

- `while`문을 돌면서 `true`가 나올때까지 재시도하는 방법

- 몇번 시도하다가 `exception`을 터뜨리고 끝내는 방법

<br/><br/>

## 원자성을 보장 할 수가 있습니다.

```java
"원자성이란?" 
여러개의 쓰레드가 있을 때 특정 시점에 어떤 메소드를
두개 이상의 쓰레드가 동시에 호출 못한다는 것입니다.

멀티 쓰레드 기반의 프로그래밍을 하게 되면 중요한 것이 바로 "원자성"의 보장입니다.
```

<br/>

### CAS 알고리즘 사용 예

- 변수마다 동기화를 해줄 수 있는 특징 덕에 Atomic 클래스에 사용 됩니다.
    
    Atomic 자료형은 기본형인 int, long 등의 동기화를 보장해주는 자료형인데, 내부에서 CAS 알고리즘을 사용합니다.
    
- 또 `ConcurrentHashMap` 클래스에서도 사용되는데, 빈 버킷에 값을 넣을 때
    
    CAS 알고리즘을 사용함으로써 빠르게 처리해줄 수 있습니다.