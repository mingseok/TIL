## AOP (=Aspect Oriented Programming)

<br/>

## AOP(=관점 지향 프로그래밍)

`1000`개의 메서드에 시간 측정 로직을 붙여야 된다면..?

- 고민 끝에, 나오게 된 것이 `AOP`이다.

```java
"AOP란?"
-> "공통 관심 사항"이랑 "핵심 관심 사항"을 분리한 것이다.
    
    여러 객체에 공통으로 적용할 수 있는 기능을 분리해서
    개발자는 반복 작업을 줄이고 핵심 기능 개발에만 집중할 수 있다.
```

<br/><br/>

## 어떤, 코드를 보아하니..

- 기존 코드의 수정이 필요해 보이고,

- 코드 중복이 많다

이를 해결하기 위해서는? → `“프록시”`를 사용해야 한다.

<br/><br/>

## 프록시란?

자신이 클라이언트가 사용하려고 하는 실제 대상인 것처럼, 

위장해서 클라이언트의 `요청`을 받아주는 것이다. (대리인, 대리자 느낌)

![이미지](/programming/img/입문431.PNG)

참고 자료 : https://www.youtube.com/watch?v=hjDSKhyYK14

<br/><br/>

## 프록시 사용 목적은 뭐야?

- 클라이언트가 타겟에 `“접근하는 방법을 제어"`하기 위해서 → `프록시 패턴`

- 타겟에 `“부가적인 기능을 부여”`해주기 위해서 → `데코레이터 패턴`

<br/><br/>

## 상황 예시)

```java
"BasicCalculator 클래스"     : 반복문을 사용해서 계산한다.
"RecursiveCalculator 클래스" : 재귀를 사용해서 계산한다.
"XXXXCalculator 클래스"      : XXX 사용해서 계산한다.
```

`3가지`의 객체들은 자신만의 `핵심` 기능을 가진다.

여기서, `“실행시간 측정”` 이라는 코드가 도입되면 `“중복코드”`가 발생하게 되는 것이다.

이때, `“핵심 기능”`과 `“부가 기능”`이라는 관점을 분리하는 것이다.

- “부가 기능” : `“실행시간 측정”` -> `“횡단 관심사”`라고도 불린다.

- “핵심 기능” : 각각의 ‘반복문’, ‘재귀’, ‘XXX’

<br/><br/>

## AOP 좋은 점은?

위 처럼, `횡단 관심사`의 분리를 함으로써,

- 개발자는 `반복 작업`을 줄이고 `핵심 기능` 개발에만 집중할 수 있게 된다.

- `핵심 기능`의 코드를 수정하지 않으면서, `공통 기능`의 구현을 추가하는 것이다

<br/><br/>

## AOP를 구현하는 방법은?

- `컴파일 시점`에 코드에 공통 기능 삽입

- `클래스 로딩 시점`에 바이트 코드에 공통 기능 삽입
- `런타임 시점`에 프록시 객체를 생성하여 공통 기능 삽입

    - 스프링 같은 경우는? → `런타임 시점`이다.