## 빈 생명주기 콜백(Bean LifeCycle) 내부 동작

<br/>

## 스프링 빈의 라이프사이클은 어떻게 관리 되는지?

먼저 스프링 Bean의 LifeCycle은 다음과 같습니다.

```java
1. 스프링 IoC 컨테이너 생성
2. 스프링 빈 생성
3. 의존관계 주입
   - 객체의 생성과 의존관계 주입이 동시에 일어난다
4. 초기화 콜백 메소드 호출
5. 사용
6. 소멸 전 콜백 메소드 호출
7. 스프링 종료
```

<br/>

### 스프링은 크게 3가지 방법으로 빈 생명주기 콜백을 관리합니다.

1. 인터페이스( InitializingBean, DisposableBean )

2. 설정 정보에 초기화 메소드, 종료 메소드 지정

3. @PostConstruct, @PreDestroy 어노테이션 지원

<br/>

데이터베이스 커넥션 풀이나, 네트워크 소켓처럼 애플리케이션 시작 시점에 

필요한 연결을 미리 해두고, 애플리케이션 종료 시점에 연결을 모두 종료하는 

작업을 진행하려면, `객체의 초기화와 종료 작업이 필요합니다.`



<br/>

스프링 빈도 위와 같은 원리로 `초기화 작업`과 `종료 작업`이 나눠서 진행됩니다. 

간단하게 말하면 `객체 생성 -> 의존관계 주입`이라는 `라이프사이클`을 가집니다.

```java
즉, 스프링 빈은 "의존관계 주입"이 다 끝난 다음에야 
필요한 "데이터"를 사용할 수 있는 준비가 완료됩니다.
```