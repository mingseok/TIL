## 트랜잭션

### 트랜잭션이란?

데이터베이스의 상태를 변화시키기 해서 수행하는 작업의 단위를 뜻한다.

데이터베이스의 상태를 변화 시킨다는 것은 무얼 의미하는 것일까?

<br/>간단하게 말해서 아래의 질의어(SQL)를 이용하여 데이터베이스를 접근 하는 것을 의미한다.

- SELECT
- INSERT
- DELETE
- UPDATE

착각하지 말아야 할 것은, 작업의 단위는 질의어 한문장이 아니라는 점이다.

작업단위는 많은 질의어 명령문들을 사람이 정하는 기준에 따라 정하는 것을 의미한다.

<br/>

## 예제 1)

### 게시판을 예로 들어보자.

게시판 사용자는 게시글을 작성하고, 올리기 버튼을 누른다. 그 후에 다시 게시판에 돌아왔을때,

게시판은 자신의 글이 포함된 업데이트된 게시판을 보게 된다.

<br/>이러한 상황을 데이터베이스 작업으로 옮기면, 

사용자가 올리기 버튼을 눌렀을 시, Insert 문을 사용하여

사용자가 입력한 게시글의 데이터를 옮긴다. 

그 후에, 게시판을 구성할 데이터를 다시 Select 하여 최신 정보로 유지한다. 

<br/>

### 여기서 작업의 단위는 insert문과 select문 둘다 를 합친것이다.

### **이러한 작업단위를 하나의 트랜잭션이라 한다.**

관리자나 개발자가 하나의 트랜잭션 설계를 잘하는 것이 데이터를 다루는 것에 많은 이점이 있다.

<br/>

## 예제 2.

트랜잭션이란, **데이터베이스의 상태를 변경시키기 위해 수행하는 작업 단위**이다.

데이터베이스의 상태를 변경시킨다는 이야기는 SELECT, UPDATE, INSERT, DELETE 와 같은 행동을 뜻한다.

<br/>이런 트랜잭션은 상황에 따라 **여러 개**가 만들어질 수 있다.

그 하나의 트랜잭션은 Commit (저장) 되거나 Rollback (철회)될 수 있다.

<br/>그 이유는 무엇일까?

예를 들어 우리가 문제를 풀면 포인트로 변경된다고 가정해보자.

A, B, C, D 가 문제를 풀어 각각 100 Point 씩 얻었고 이를 DB에 저장하려 한다.

A 저장 완료, B 저장 완료, C 저장 완료, D 저장 실패. 

<br/>이런 상황이 오게 된다면 잘못된 처리이므로 다시 저장을 수행해야 하는데,

A, B, C는 그 전에 이미 저장이 완료되었기 때문에 다시 저장을 시작하면 200점이 저장된다.

이런 문제점들을 위해서 트랜잭션은 Commit 과 Rollback 을 이용한다.


<br/>





출처:




<br/>

>**Reference** <br/>[개발자로 홀로 서기] - [https://mommoo.tistory.com/62](https://mommoo.tistory.com/62)
<br/>
참고 링크 - Wonit - https://wonit.tistory.com/462
