## MVC 패턴

비즈니스 로직은 서블릿 처럼 다른곳에서 처리하고, 

JSP는 목적에 맞게 HTML로 화면(View)을 그리는 일에 집중하도록 하자. 

<br/>과거 개발자들도 모두 비슷한 고민이 있었고, 그래서 MVC 패턴이 등장했다. 

우리도 직접 MVC 패턴을 적용해서 프로젝트를 리팩터링 해보자.

<br/>


## MVC 패턴 - 개요

Model View Controller

MVC 패턴은 지금까지 학습한 것 처럼 하나의 서블릿이나, 

JSP로 처리하던 것을 컨트롤러(Controller)와 뷰(View)라는 영역으로 서로 역할을 나눈 것을 말한다. 

<br/>

### 컨트롤러(서블릿)

HTTP 요청을 받아서 파라미터를 검증하고, 비즈니스 로직을 실행한다. 

그리고 뷰에 전달할 결과 데이터를 조회해서 모델에 담는다.


<br/>

### 모델

뷰에 출력할 데이터를 담아둔다. <br/>뷰가 필요한 데이터를 모두 모델에 담아서 전달해주는 덕분에 뷰는 비즈니스 로직이나 <br/>데이터 접근을 몰라도 되고, 화면을 렌더링 하는 일에 집중할 수 있다.

<br/>

### 모델은 뭔가??

Model은 `HttpServletRequest` 객체를 사용한다. 

`request`는 내부에 데이터 저장소를 가지고 있는데,

`request.setAttribute()` , `request.getAttribute()` 를 사용하면 데이터를 보관하고, 

조회할 수 있다.

<br/>

### 뷰(JSP)

모델에 담겨있는 데이터를 사용해서 화면을 그리는 일에 집중한다. 

여기서는 HTML을 생성하는 부분을 말한다.

MVC 간단 설명 그림.

![이미지](/programming/img/서31.PNG)

<br/>

실제로는 이렇다.

![이미지](/programming/img/서32.PNG)

<br/>


## MVC 패턴 - 한계

MVC 패턴을 적용한 덕분에 컨트롤러의 역할과 뷰를 렌더링 하는 역할을 명확하게 구분할 수 있다.

특히 뷰는 화면을 그리는 역할에 충실한 덕분에, 코드가 깔끔하고 직관적이다.

<br/>단순하게 모델에서 필요한 데이터를 꺼내고, 화면을 만들면 된다.

그런데 컨트롤러는 딱 봐도 중복이 많고, 필요하지 않는 코드들도 많이 보인다

<br/>문제를 해결하려면 컨트롤러 호출 전에 먼저 공통 기능을 처리해야 한다. 

### 소위 수문장 역할을 하는 기능이 필요하다.

프론트 컨트롤러(Front Controller) 패턴을 도입하면 이런 문제를 깔끔하게 해결할 수 있다.

(입구를 하나로!)



<br/>

>**Reference** <br/>스프링 MVC 1편 - 백엔드 웹 개발 핵심 기술 - https://www.inflearn.com/course/%EC%8A%A4%ED%94%84%EB%A7%81-mvc-1