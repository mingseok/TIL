## 응답 - 정적 리소스, 뷰 템블릿

스프링(서버)에서 응답 데이터를 만드는 방법은 크게 3가지이다

- 정적 리소스
    - 예) 웹 브라우저에 정적인 HTML, css, js을 제공할 때는, `정적 리소스`를 사용한다.

- 뷰 템플릿 사용

    - 예) 웹 브라우저에 동적인 HTML을 제공할 때는 뷰 템플릿을 사용한다.

- HTTP 메시지 사용
    - HTTP API를 제공하는 경우에는 HTML이 아니라 데이터를 전달해야 하므로, HTTP 메시지
        
        바디에 JSON 같은 형식으로 데이터를 실어 보낸다.
        
<br/>

## 정적 리소스

스프링 부트는 클래스패스의 다음 디렉토리에 있는 정적 리소스를 제공한다.

`/static` , `/public` , `/resources` , `/META-INF/resources`

<br/>다음 경로에 파일이 들어있으면

`src/main/resources/static/basic/hello-form.html`

<br/>웹 브라우저에서 다음과 같이 실행하면 된다.

localhost:8080/basic/hello-form.html

<br/>

`hello.html` 생성하기.

```java
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<p th:text="${data}">empty</p>
</body>
</html>
```

<br/>

`ResponseViewController` 클래스 생성하기.

```java
package hello.springmvc.basic.response;

import org.springframework.stereotype.Controller;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.servlet.ModelAndView;

@Controller
public class ResponseViewController {

    @RequestMapping("/response-view-v1")
    public ModelAndView responseViewV1() {
        ModelAndView mav = new ModelAndView("response/hello").addObject("data", "hello!");

        return mav;
    }
}
```

<br/>

실행 시키면 `hello.html` 로 넘어가는 걸 알 수 있다.

![이미지](/programming/img/서57.PNG)

넘어가는 것을 알 수 있다.


<br/>


이렇게 작성해도 동작 된다.

```java
@RequestMapping("/response-view-v2")
public String responseViewV2(Model model) {
     model.addAttribute("data", "hello!");
     return "response/hello";
}
```

<br/>

### 만약 `@ResponseBody` 도 작성해 주었다면 어떻게 될까?

데이터 `"hello!"` 가 출력 되는 것이 아니고, `"response/hello"` 가 출력 되는 것이다.

<br/>

### String을 반환하는 경우 - View or HTTP 메시지

`@ResponseBody` 가 없으면 `response/hello` 로 뷰 리졸버가 실행되어서 뷰를 찾고, 렌더링 한다.

`@ResponseBody` 가 있으면 뷰 리졸버를 실행하지 않고, HTTP 메시지 바디에 직접 response/hello  라는 문자가 입력된다

<br/>

### HTTP 메시지

`@ResponseBody` , `HttpEntity` 를 사용하면, 뷰 템플릿을 사용하는 것이 아니라, 

HTTP 메시지 바디에 직접 응답 데이터를 출력할 수 있다.

<br/>

>**Reference** <br/>스프링 MVC 1편 - 백엔드 웹 개발 핵심 기술 - https://www.inflearn.com/course/%EC%8A%A4%ED%94%84%EB%A7%81-mvc-1
