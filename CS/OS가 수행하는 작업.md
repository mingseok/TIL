## 운영체제가 해주는 일은?

애플리케이션 프로그램이랑 유저(컴퓨터를 사용하는)하고 하드웨어(컴퓨터) 간의 중간 

매개역할을 해주는 것이다.

<br/>

## 크게 4가지의 **Component**를 말할수 있다.

```
컴포넌트(**Component)**란 여러 개의 프로그램 함수들을 모아 하나의 특정한 기능을 
수행할 수 있도록 구성한 작은 기능적 단위를 말한다.
```

- 하드웨어
- 운영체제
- 애플리케이션 프로그램
- 유저(사용자)
    
![이미지](/programming/img/운영체제1.PNG)
    
<br/>

애플리케이션 프로그램에는 `compiler`, `assembler`, `database` 등의 `응용 프로그램`이 있지만 

어떤 종류의 `응용 프로그램`이 와도 그것을 `운영체제(O/S)`가 서비스를 제공해 준다는 것이다.

그렇게 되면 `사용자`는 응용 프로그램을 통해서 시스템과 통신을 하게 된다는 것이다.

<br/><br/>

## 가장 핵심은 Kernel(**커널)** 이다

이, 커널에서 시스템 프로그램과, 어플리케이션 프로그램에 대한 인터페이스를 제공해준다.

```
전체 운영체제가 있으면 그 안에 커널 부분이 O/S의 핵심을 담당하게 된다.
```

<br/><br/>

## bootstrap 란 무엇인가?

```
우리가 컴퓨터 켜는 것을 ‘부팅’이라고 한다 → 왜 그럴까?

이유는 bootstrap 한다는 것이기 때문이다.
```

<br/>

bootstrap는 이것을 말한다.

![이미지](/programming/img/운영체제2.PNG)

내가 발을 신발에 넣고 싶을때 bootstrap을 당기면 잘 들어간다.

그런 역할 처럼, 내가 전원을 인가 했다면 컴퓨터가 켜져야 되는데 컴퓨터에 CPU가 있고 

CPU와 연결된 메모리에서 가져와 작업을 해야 되는 것이다.

<br/>

### 하지만, 그렇게 되기 까지 문제점과 핵심!

처음 메모리에 들어 있는 것은 휘발성이다. 

<br/>

그 말은 전원을 인가 했을때 아무것도 없다는 뜻이다. 

그러면 CPU가 제일 처음 로딩해야 될 명령어는 (예를 들어) 0x00번지, 아니면

<br/>

`ROM`이 될 것이다. 그 번지가 바로 `bootstrap` 으로 `부팅용 프로그램`이라는 것이다.

(롬(=ROM)은 컴퓨터의 전원이 끊어져도 그 내용이 변함없이 유지)

<br/><br/>

## 그래서 bootstrap은 뭘 하나요?

컴퓨터가 파워 ON 되자마자 처음으로 `롬(ROM)`에 저장되어 있는 프로그램은 

`메모리`에다가 `운영체제가 로딩`하는 작업을 해줘야 되는 것이다.

<br/>

정리하자면, bootstrap 역할은 운영체제를 발에 속 넣어준다 하여 `부팅`이라고 한다.

그리고 운영체제를 메모리에 로딩하는 역할이 `부팅 프로그램`이다.

<br/><br/>

## Interrupts(인터럽트) 란 무엇인가?

예시를 들어보자면, 

```
키보드에 A라는 키를 눌렀다. 그러면 키보드에 있는 
컨트롤러가 "A라는 문자를 눌렀다" 라고 CPU한테 알려줘야 한다.
이런 것을 우리가 인터럽트라는 방법으로 알려준다고 부른다.
```

<br/>

CPU하고 I/O 디바이스 하고 서로 통신하는 방법 중 하나가 인터럽트라고 한다.

이렇게 그림처럼 I/O 와 CPU가 통신 하는 것이다.

![이미지](/programming/img/운영체제3.PNG)

<br/><br/>

## 컴퓨터 시스템 부품의 정의

- CPU : 명령을 처리해주는 것
- Processor
- Core
- Multicore
- Multiprocessor

<br/>

## Multiprocessing (SMP)

프로세스가 한개가 아니라는 얘기이다. (멀티)

사실 CPU를 여러개 다는 것은 비용이 많이 든다.

<br/>

그리하여 생각한 것이 CPU 하나의 칩 안에 CPU 코어만 registers 와 cache를 

가지고 있는 코어만 따로 회로를 구성하면 되는 것이다. 


<br/>

그리하여 만약 안에 두개가 있다면 `듀얼 코어`가 되는 것이다. 

![이미지](/programming/img/운영체제4.PNG)

<br/><br/>

## (중요) Multiprogramming 이란 무엇인가?

옛날에는 프로그램을 한 개만 로딩해서 사용하고 버리고 다시 한개 로딩하고 버리고, 

이렇게 반복하였다. (O/S는 그대로 있고) 하지만 누군가 `“그럴 필요 있냐?”` 라고 물으면서 시작..

<br/>

여러개의 프로그램을 메모리에 `동시에 올려 놓고, 전부 동시에 처리` 시켜주는 방법을 말했다.

그것이 `멀티 프로그래밍`이다.

![이미지](/programming/img/운영체제5.PNG)

<br/>

메모리에 여러개의 프로그램을 동시에 올리는 것을 우리가 `멀티 프로그래밍`이라고 한다.

하나의 프로그램의 한개 이상의 돌고 있을때를 `멀티 프로그램`이라고 말한다.

<br/>

### 그런데, 여러개를 동시에 돌리면 뭐가 좋은데?

CPU사용 `효율성`을 높일 수 있다는 것이다.


<br/><br/>

## Multitasking(다중 처리 =multiprocessing)

멀티 프로그래밍이 된다면, 뭘 할 수 있냐면 하나의 CPU를 가지고 

만약, 파워포인트를 사용하고 있다고 생각해 보자. 그렇다면 자료를 입력하고



그림을 그리고 하는 일이 있는데,  CPU 일하는 시간을 보자면 `노는 시간이 98%`이고, 

`일하는 시간이 2%` 밖에 안된다는 것이다.

```
만약, 듀얼 모니터 띄워 놓고 파워포인트 하면서 유튜브를 시청한다면?

유튜브를 틀어 놓는것도 PCU 입장에서는 무리가 없다.
```

<br/>

이렇게 하나의 CPU 가 실행 속도가 빠를 때, 여러개의 프로세스(일)를 자주 바꿔주는 상황이라면 

여러개의 일들이 있지만, 사용자의 입장에서는 타이핑 하면서 영상까지 시청할 수 있는 

편리한 상황을 제공해준다는 것이다. 이것들을 우리가 `Concurrency (동시성)` 라고 부른다.

<br/><br/>

## CPU scheduling

램에 여러개의 프로세스가 동시에 존재 한다. 그리고 CPU는 1개 이다.

그렇다면, 어떤 프로세스를 실행 시켰다가 자기 할 일을 다하고 빠져 나갔다고 생각해보자.

<br/>

그러면, 그 `램에 남은 프로세스 중에 어떤걸 선택 할것이냐?` 하는 것이 `CPU scheduling` 이다

목표는 CPU 효율을 최대로 만드는 선택 방법을 고르는 것이다.

<br/><br/>


>**Reference** <br/>운영체제 공룡책 강의 : https://www.inflearn.com/course/%EC%9A%B4%EC%98%81%EC%B2%B4%EC%A0%9C-%EA%B3%B5%EB%A3%A1%EC%B1%85-%EC%A0%84%EA%B3%B5%EA%B0%95%EC%9D%98/dashboard
