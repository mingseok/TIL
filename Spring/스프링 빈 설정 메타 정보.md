## 스프링은 어떻게 이런 다양한 설정 형식을 지원하는 것일까?

그 중심에는 `BeanDefinition` 이라는 추상화가 있다.

<br/>

쉽게 이야기해서 역할과 구현을 개념적으로 나눈 것이다!

- XML을 읽어서 BeanDefinition을 만들면 된다.

- 자바 코드를 읽어서 BeanDefinition을 만들면 된다.
- 스프링 컨테이너는 자바 코드인지, XML인지 몰라도 된다. 오직 BeanDefinition만 알면 된다.

<br/>

### BeanDefinition 을 빈 설정 메타정보라 한다.

- `@Bean` , `<bean>` 당 각각 하나씩 메타 정보가 생성된다.

<br/>스프링 컨테이너는 이 메타정보를 기반으로 스프링 빈을 생성한다.

**스프링 컨테이너 자체는 BeanDefinition 만 의존한다.** 

즉, 설계 자체를 추상화에만 의존하도록 설계를 한것이다. **BeanDefinition 자체가 인터페이스 이다.**

![이미지](/programming/img/스프링14.PNG)


<br/>

## 정리

- BeanDefinition을 직접 생성해서 스프링 컨테이너에 등록할 수 도 있다.
- 하지만 실무에서 BeanDefinition을 직접 정의하거나 사용할 일은 거의 없다.
- 어려우면 그냥 넘어가면 된다^^! BeanDefinition에 대해서는 너무 깊이있게 이해하기 보다는,
    
    스프링이 다양한 형태의 설정 정보를 BeanDefinition으로 추상화해서 사용하는 것
    
    정도만 이해하면 된다. 
    
- 가끔 스프링 코드나 스프링 관련 오픈 소스의 코드를 볼 때,
    
    BeanDefinition 이라는 것이 보일 때가 있다. 이때 이러한 메커니즘을 떠올리면 된다.

    <br/>


>**Reference** <br/>스프링 핵심 원리 - 기본편 : https://www.inflearn.com/course/%EC%8A%A4%ED%94%84%EB%A7%81-%ED%95%B5%EC%8B%AC-%EC%9B%90%EB%A6%AC-%EA%B8%B0%EB%B3%B8%ED%8E%B8
