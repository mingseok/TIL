## 스프링 빈 등록 방식 → ‘컴포넌트 스캔’ 방식이다.

@Controller 이런식으로 하는 것들이 컴포넌트 스캔 방식이다.

그리고 스프링 빈을 등록 할때는 기본으로 싱글톤으로 등록한다.

### 즉, 각각의 딱 하나만 등록한다. 

<br/>그렇게 하여 각각의 딱 하나를 공유 하는 것이다.

따라서 같은 스프링 빈이면 모두 같은 인스턴스 이다.

<br/>자바에서 객체라는 것을 만들려면 new를 이용해서 생성한다.

모든 로직에 서로 new가 들어가면,

특정 클래스와 특정 클래스가 굉장히 연관성이 깊어 진다.

<br/>자바의 new가 bean이라고 생각하면 비슷하지만 안된다.. 

그냥 new가 아니라 스프링이 관리하는 new 인 것이므로,

단 하나의 new를 여러 로직에서 돌려쓰기 하는 것이다.

<br/>

## 예시로

팔 아프면 팔만 떼서 수리해서 붙이고 하면 좋은데, 

한 몸이 된다면, 팔 아프다고 몸을 다 뜯어야 하는 상황이 생기게 된다.

<br/>

### 이런 걸 예방하는 것이 **DI == 의존성 주입** 이다

이건 어떠한 방식으로 이루어 지나면, 

<br/>스프링이라는 프레임 워크가 의존성을 주입할 객체를 찾는다 == 어노테이션이 

달린 애들을 싹 스캔한 다음에 그거에 맞는 bean(객체)이 생성이 되어 있다면 

스프링이 bean을 넣어준다.

<br/>스프링이 @Service 는 "얘는 빈으로 만들어야 할 애야" 라고 지정을 하는 것이다.

@Repository, @Service 이런 애들은 스프링이 켜질 때 

"스프링아 얘네들은 bean으로 생성해서 등록해 놔줘" 명령 하는 것이다.

<br/>그러면 처음에 저런 어노테이션 가진 클래스들을 다 객체로 만들어서 빈으로 등록해 놓고 

그 다음 @AutoWired나 @RequestArgs.... 등등의 어노테이션을 

스프링이 찾아서 어노테이션이 걸린 인터페이스나 클래스를 보고

<br/>"어 너 빈 주입이 필요하구나?" 하고 자기 주머니에 등록해 놓은 빈들 중에 

적절한 빈을 넣어 준다. 걔네들이 직접 코드에서 

new로 생성하지 않아도 new로 생성한 객체를 이용할 수 있게 되는 것이다.

의존한다는 것은 상속하고는 다르다.

<br/>의존은 외부에서 객체를 생성해서 하나의 인스턴스로 필요한 곳에 주입 해주는 것이다.

매번 객체 생성하는 것이 아니다.

<br/>

## 장점

- 의존관계 주입을 사용하면 클라이언트 코드를 변경하지 않고,
    
    클라이언트가 호출하는 대상의 타입 인스턴스를 변경할 수 있다.
    

- 의존관계 주입을 사용하면 정적인 클래스 의존관계를 변경하지 않고,
    
    동적인 객체 인스턴스 의존관계를 쉽게 변경할 수 있다.


<br/><br/>


## `HelloSpringApplication` 부터 자바빈을 찾는다.

그 상위 이상의 폴더는 자바빈을 찾지 않는다.

![이미지](/programming/img/스7.PNG)


<br/>

>**Reference** <br/>스프링 핵심 원리 - 기본편 : https://www.inflearn.com/course/%EC%8A%A4%ED%94%84%EB%A7%81-%ED%95%B5%EC%8B%AC-%EC%9B%90%EB%A6%AC-%EA%B8%B0%EB%B3%B8%ED%8E%B8
