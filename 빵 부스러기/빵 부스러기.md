# 🍞 빵 부스러기
>개발 관련 학습 중 하나의 글로 작성하기엔 짧고, <br/>
>버리기엔 아까운 부스러기 정보들을 모아두는 곳. <br/> <br/>
>임시로 작성한게 완성 되면 빵이 되어 나가는 것이다. <br/> 
>1개, 2개, 3개, ... 부스러기 들을 모아 두고 점점 정리해 가는 것이다. <br/>
>정리가 된것은 🍞이 되어 해결.
> ***



<br/>

## 목차


---



기준은 뭘까?
프레임워크가 내가 작성한 코드를 제어하고, 대신 실행하면 그것은 프레임워크가 맞다.

설명으로는 JUnit이 있다 → 실행하고 제어권은 JUnit이 가져간다.
반면 내가 작성한 코드가 직접 제어의 흐름을 담당한다면 그것은 라이브러리다.




DI의 장점.
의존관계 주입을 사용하면 정적인 클래스 의존관계를 변경하지 않고,

동적인 객체 인스턴스 의존관계를 쉽게 변경할 수 있다.

애플리케이션 코드를 손대지 않는다는 것이다.



IoC, 제어의 역전 용어.
OrderServiceImpl 자체를 생성해주는 것도 AppConfig가 하고,

OrderServiceImpl에 어떤게 주입이 되서 전체의 애플리케이션 흐름을 잡는것 또한

AppConfig가 전부 다 하는 것이다. (이렇게 의존관계 역전을 일으킨 것이다.)


그리하여 이걸 IoC 컨테이너라고도 부르고 최근에는 DI 컨테이너 라고 많이 부른다.




지금까지를, 스프링으로 전환
지금까지 순수한 자바 코드만으로 DI를 적용했다. 이제 스프링을 사용해보자.

AppConfig.class 설정을 구성한다는 뜻의 @Configuration 을 붙여준다.


그리고 각 메서드에 @Bean 을 붙여준다.

이렇게 하면 스프링 컨테이너에 스프링 빈으로 등록한다.

@Configuration
public class AppConfig {
    
    @Bean
    public MemberService memberService() {
        return new MemberServiceImpl(memberRepository());
    }

    @Bean
    public OrderService orderService() {
        return new OrderServiceImpl(memberRepository(), discountPolicy());
    }

    // ... 생략
}



스프링 컨테이너
ApplicationContext 를 스프링 컨테이너라 한다.

기존에는 개발자가 AppConfig 를 사용해서 직접 객체를 생성하고 DI를 했지만,

이제부터는 스프링 컨테이너에 객체를 스프링 빈으로 등록하고,

스프링 컨테이너에서 스프링 빈을 찾아서 사용하도록 변경되었다.

스프링 컨테이너는 @Configuration 이 붙은 AppConfig 를 설정(구성) 정보로 사용한다.

여기서 @Bean이라 적힌 메서드를 모두 호출해서 반환된 객체를 스프링 컨테이너에 등록한다.

이렇게 스프링 컨테이너에 등록된 객체를 스프링 빈이라 한다.

스프링 빈은 applicationContext.getBean() 메서드를 사용해서 찾을 수 있다.

