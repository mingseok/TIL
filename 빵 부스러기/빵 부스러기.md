# 🍞 빵 부스러기
>개발 관련 학습 중 하나의 글로 작성하기엔 짧고, <br/>
>버리기엔 아까운 부스러기 정보들을 모아두는 곳. <br/> <br/>
>임시로 작성한게 완성 되면 빵이 되어 나가는 것이다. <br/> 
>1개, 2개, 3개, ... 부스러기 들을 모아 두고 점점 정리해 가는 것이다. <br/>
>정리가 된것은 🍞이 되어 해결.
> ***



<br/>

## 목차

1. 실무에서는 `new HashMap<>()` 안되는 이유.

2. 테스트 코드에서 Optional 꺼낼때는 get()해야 꺼낼수 있다.

3. @Service -> 이걸 해놔야 맴버컨트롤러에서 여길 찾아서 @Autowired 할수 있는 것이다.

4. 코드로 구현

5. 만약 static 파일에 index.html 파일은 무시한다. “왜?” 정적이라서 

6. < input > 태그 안에 있는 name="name" 은 '키' 이다.

7. final 로 되어 있으면 무조건 생성자를 통해서 할당 되어야 한다.

---

<br/><br/>

## 1번. 실무에서는 `new HashMap<>()` 안되는 이유.
실무에서는 `new HashMap<>()` 하면 안되고, `new ConcurrentHashMap<>()` 을 사용해야 한다. 
<br/>이유는 쓰레드 문제 이므로, 여러 사람들이 접속 했을때, `new HashMap<>()` 인 경우 전부 받을 수 없기 때문이다.
<br/>그리고 `long` 도 같은 이유다. `AtomicLong` 을 사용해야 된다.


<br/>

## 4번. 코드로 구현
```java
IllegalStateException e = assertThrows(IllegalStateException.class, 
										 () -> memberService.join(member2));

assertThat(e.getMessage()).isEqualTo("이미 존재하는 회원입니다.");
```

만약 memberService.join(member2); 까지 작성한다면 <br/>validataDuplicateMember() 메서드에서 'spring' 이 있는데 또 'spring' 이 들어와서 예외가 걸리는 것이다.

<br/>

 쉽게 생각하자.<br/>
 즉, () -> memberService.join(member2) 실행 시키면 IllegalStateException.class 가 터지는 것이다.<br/>만약 NullPointerException.class 로 입력하였다면 테스트 결과가 '실패' 될 것이다.<br/>
이건 발생 할수 있도록 코드를 작성한 것이다.<br/>

<br/>

그리고 방금 터진 에러를 e 변수에 담아서 e.getMessage() 메세지를 출력 시키고 <br/> MemberService클래스에 validataDuplicateMember() 메서드에 있는 문구가 있는데 그걸 의미로 작성하여 <br/>
그 문구랑 같은지 비교하는 것이다. 이걸 하는 이유는 한번더 정확히 확인하기 위해서이다.<br/> 결국 여기서 두번의 테스트를 치른것이다. 