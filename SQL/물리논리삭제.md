## 물리삭제와 논리삭제

데이터베이스에서 데이터를 삭제할 때는 물리삭제와 논리삭제의 두 가지 방법을 고려할 수 있다.

![이미지](/programming/img/입문351.PNG)

<br/><br/>


## 물리삭제 

SQL의 delete 명령을 사용해 직접 데이터를 삭제하자는 방식이다.

```
지극히 자연스러운 발상의 삭제 방법이다
```

<br/><br/>

## 논리삭제

`삭제플러그` 같은 `열`을 미리 준비하여 사용한다.

실제 테이블 안에 데이터는 남아있지만, 참조할 때에는 `삭제플러그`가 삭제로 설정된 행을 제외하는 select 명령을 실행한다.

```
결과적으로는 해당 행이 삭제된 것처럼 보인다
```

<br/><br/>


## 상황에 맞게 선택하자.



### sns 서비스

사용자가 개인정보를 다루는 시스템에서는 사용자가 탈퇴한 경우 데이터를 삭제한다.

이때, 개인정보를 취급하는 마스터 테이블에서 삭제할 경우에는 물리삭제를 하는 편이 안전할 것이다.

개인정보의 유출을 미연에 방지하는 측면에서도 좋은 선택이라 할 수 있다.

<br/>

### 쇼핑 사이트

사용자가 주문을 취소할 경우에도 데이터를 삭제한다. 

이러한 경우에는 논리삭제 방법을 많이 사용한다.

<br/>

주문이 취소되었다고 해도 발주는 된 것으로, 해당 정보가 완전히 불필요한 것이라고는 말할 수 없기 때문이다.

이러한 데이터는 특히 주문 관련 통계를 낼 때 유용하게 사용할 수 있기 때문이다.

