## 물리삭제와 논리삭제

![이미지](/programming/img/디비.JPG)

데이터베이스에서 데이터를 삭제하는 방법은 용도에 따라 

크게 ‘물리삭제’ 와 ‘논리삭제’ 의 두 가지로 나뉜다.

<br/>

단, 이는 SQL 명령이 두 가지 존재한다는 의미가 아니다.

데이터를 삭제하는 데에 두 가지 사고 방식이 있다고 이해하면 쉽다.

<br/>

테이블에 ‘삭제플래그’ 와 같은 열을 미리 준비해 둔다.

UPDATE 명령을 이용해 ‘삭제플래그’ 의 값을 유효하게 갱신해두자는 발상에 의한 삭제방법을 말한다.

<br/>

실제 테이블 안에 데이터는 남아 있지만, 참조할 때에는 ‘삭제플래그’가 삭제로 설정된 행을 제외하는 

SELECT 명령을 실행한다. 결과적으로는 해당 행이 삭제된 것처럼 보인다.

<br/>

## 논리삭제의 장/단점

데이터를 삭제하지 않기 때문에 삭제되기 전의 상태로 간단히 되돌릴 수 있다는 것을 꼽을 수 있다.

한편 단점으로는 저장공간이 늘어나지 않는 점, 그리고 데이터베이스의 크기가 증가함에 따라 

검색속도가 떨어지는 점을 들 수 있다. 뿐만 아니라 UPDATE 명령을 실행하므로 혼란을 야기하기도 한다.

<br/>

## 삭제방법 선택하기.

예를 들어 SNS 서비스처럼 사용자의 개인정보를 다루는 시스템에서는 

사용자가 탈퇴한 경우 데이터를 삭제 한다. 물리삭제를 하는 편이 안전할 것이다.

반면, 쇼핑 사이트의 경우는 사용자가 주문을 취소할 경우에도 데이터를 삭제한다.

<br/>

논리삭제 방법을 많이 사용한다. 

주문이 취소 되었다고 해도 발주는 된 것으로, 해당 정보가 완전히 

불필요한 것이라고는 말할 수 없기 때문이다. 특히 주문 관련 통계를 낼때 유용하게 사용할 수 있기 때문이다.

<br/>

어느 쪽이 좋은지 따지기 보다는 상황에 따라 용도에 맞게 

데이터 삭제 방법을 선택하는 것이 중요하다.

### 물리삭제와 논리삭제는 용도에 맞게 선택한다.


<br/><br/>

>**Reference** <br/> SQL 첫걸음 : 아사이 아츠시 지음, 박준용 옮김, 한빛미디어
